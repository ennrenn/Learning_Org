<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L&D Organisational Structure</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --tertiary: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --early-careers: #3498db;
            --upskilling: #2ecc71;
            --reskilling: #e74c3c;
            --csuite: #9b59b6;
            --executive: #34495e;
            --governance: #f39c12;
            --support: #1abc9c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            padding: 20px;
            color: var(--dark);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
        }

        h2 {
            margin: 15px 0;
            color: var(--secondary);
        }

        .container {
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            margin: 0 auto;
            gap: 20px;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: var(--csuite);
        }

        .btn-early-careers {
            background-color: var(--early-careers);
        }

        .btn-upskilling {
            background-color: var(--upskilling);
        }

        .btn-reskilling {
            background-color: var(--reskilling);
        }

        .btn-governance {
            background-color: var(--governance);
        }

        .btn-support {
            background-color: var(--support);
        }

        .btn-reset {
            background-color: var(--gray);
        }

        .active {
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5) inset;
            transform: translateY(-2px);
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .search-box {
            padding: 10px;
            width: 300px;
            border: 1px solid var(--gray);
            border-radius: 4px;
            font-size: 16px;
        }

        .visualization {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .role-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border-left: 5px solid var(--gray);
            opacity: 1;
        }

        .role-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(-3px);
        }

        .role-card.highlight {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(-5px);
            background-color: #fffde7;
        }

        .role-card.faded {
            opacity: 0.6;
        }

        .role-card.c-suite {
            border-left-color: var(--csuite);
        }

        .role-card.early-careers {
            border-left-color: var(--early-careers);
        }

        .role-card.upskilling {
            border-left-color: var(--upskilling);
        }

        .role-card.reskilling {
            border-left-color: var(--reskilling);
        }

        .role-card.governance {
            border-left-color: var(--governance);
        }

        .role-card.support {
            border-left-color: var(--support);
        }

        .role-card.executive {
            border-left-color: var(--executive);
        }

        .role-card h3 {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .role-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .category-tag {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            margin-left: 10px;
        }

        .tag-c-suite {
            background-color: var(--csuite);
        }

        .tag-early-careers {
            background-color: var(--early-careers);
        }

        .tag-upskilling {
            background-color: var(--upskilling);
        }

        .tag-reskilling {
            background-color: var(--reskilling);
        }

        .tag-governance {
            background-color: var(--governance);
        }

        .tag-support {
            background-color: var(--support);
        }

        .tag-executive {
            background-color: var(--executive);
        }

        .reporting-line {
            font-style: italic;
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .reporting-line .reports-to {
            color: var(--secondary);
            cursor: pointer;
            text-decoration: underline;
        }

        .responsibilities {
            margin-top: 10px;
        }

        .responsibilities ul {
            padding-left: 20px;
        }

        .responsibilities li {
            margin-bottom: 5px;
        }

        .view-toggle {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .view-toggle button {
            padding: 8px 16px;
            cursor: pointer;
            background-color: var(--light);
            border: 1px solid var(--gray);
        }

        .view-toggle button:first-child {
            border-radius: 4px 0 0 4px;
        }

        .view-toggle button:last-child {
            border-radius: 0 4px 4px 0;
        }

        .view-toggle button.active {
            background-color: var(--primary);
            color: white;
        }

        .grid-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .list-view {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
            margin-right: 5px;
        }

        .reports-to {
            font-weight: bold;
            cursor: pointer;
            color: var(--secondary);
        }

        .reports-to:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .grid-view {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Corporate Learning & Development Organisational Structure</h1>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--csuite);"></div>
                <span>C-Suite</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--executive);"></div>
                <span>Executive</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--early-careers);"></div>
                <span>Early Careers</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--upskilling);"></div>
                <span>Upskilling</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--reskilling);"></div>
                <span>Reskilling</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--governance);"></div>
                <span>Governance</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--support);"></div>
                <span>Support</span>
            </div>
        </div>

        <div class="filters">
            <button class="btn btn-primary filter-btn" data-filter="c-suite">C-Suite</button>
            <button class="btn btn-early-careers filter-btn" data-filter="early-careers">Early Careers</button>
            <button class="btn btn-upskilling filter-btn" data-filter="upskilling">Upskilling</button>
            <button class="btn btn-reskilling filter-btn" data-filter="reskilling">Reskilling</button>
            <button class="btn btn-support filter-btn" data-filter="support">Support Functions</button>
            <button class="btn btn-governance filter-btn" data-filter="governance">Governance</button>
            <button class="btn btn-reset filter-btn" data-filter="all">Show All</button>
        </div>

        <div class="search-container">
            <input type="text" class="search-box" placeholder="Search roles, responsibilities...">
        </div>

        <div class="view-toggle">
            <button class="grid-btn active">Grid View</button>
            <button class="list-btn">List View</button>
        </div>

        <div class="visualization grid-view" id="visualization"></div>
    </div>

    <script>
        // Data structure for all roles
        const organisationData = [
            // C-Suite
            {
                id: 'ceo',
                title: 'Chief Executive Officer (CEO)',
                category: 'c-suite',
                reportsTo: null,
                responsibilities: [
                    'Ultimate oversight of all company operations including talent development strategy'
                ]
            },
            {
                id: 'chro',
                title: 'Chief Human Resources Officer (CHRO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Primary C-suite executive responsible for L&D function',
                    'Sets overall talent development vision aligned with business strategy',
                    'Allocates resources across L&D programmes'
                ]
            },
            {
                id: 'cpo',
                title: 'Chief People Officer (CPO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Works closely with CHRO on employee experience',
                    'Focuses on culture development and ensuring L&D initiatives support cultural goals'
                ]
            },
            {
                id: 'cto',
                title: 'Chief Technology Officer (CTO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Provides technical infrastructure required for L&D programmes',
                    'Collaborates on technical skills development content'
                ]
            },
            {
                id: 'cfo',
                title: 'Chief Financial Officer (CFO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Approves L&D budget and investment strategies',
                    'Analyses ROI of learning initiatives'
                ]
            },
            {
                id: 'coo',
                title: 'Chief Operating Officer (COO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Ensures L&D programmes align with operational needs and workflows',
                    'Helps identify skill gaps in core operations'
                ]
            },
            {
                id: 'cso',
                title: 'Chief Sustainability Officer (CSO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Collaborates on ESG training initiatives',
                    'Provides input on sustainability competencies',
                    'Ensures sustainability principles are integrated into leadership development'
                ]
            },
            {
                id: 'cdo_diversity',
                title: 'Chief Diversity Officer (CDO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Partners with L&D on DEI training programmes',
                    'Ensures learning content is inclusive and culturally sensitive',
                    'Co-develops leadership capabilities for managing diverse teams'
                ]
            },
            {
                id: 'cdo_digital',
                title: 'Chief Digital Officer (CDO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Collaborates on digital literacy and transformation learning programmes',
                    'Provides guidance on emerging digital skills requirements',
                    'Partners on digital adoption training initiatives'
                ]
            },
            {
                id: 'cino',
                title: 'Chief Innovation Officer (CINO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Works with L&D on innovation capability building',
                    'Collaborates on design thinking and creativity training',
                    'Helps identify future skill requirements based on innovation roadmap'
                ]
            },
            {
                id: 'cmo',
                title: 'Chief Marketing Officer (CMO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Partners on customer-centricity training programmes',
                    'Provides input on external brand perception of learning initiatives',
                    'Collaborates on communication skills development'
                ]
            },
            {
                id: 'cxo',
                title: 'Chief Experience Officer (CXO)',
                category: 'c-suite',
                reportsTo: 'ceo',
                responsibilities: [
                    'Collaborates on customer experience and employee experience training',
                    'Provides direction on service design skill requirements',
                    'Ensures learning programmes align with desired experience outcomes',
                    'Partners on experience measurement and journey mapping capabilities'
                ]
            },
            
            // Executive Leadership
            {
                id: 'clo',
                title: 'Chief Learning Officer (CLO)',
                category: 'executive',
                reportsTo: 'chro',
                responsibilities: [
                    'Oversees entire L&D function and strategy',
                    'Aligns learning initiatives with business objectives',
                    'Manages relationships with external learning partners'
                ]
            },
            {
                id: 'vp_talent',
                title: 'VP of Talent Development',
                category: 'executive',
                reportsTo: 'clo',
                responsibilities: [
                    'Leads implementation of L&D strategic initiatives',
                    'Oversees all functional heads below'
                ]
            },
            
            // Early Careers Division
            {
                id: 'dir_early_careers',
                title: 'Director of Early Careers Programmes',
                category: 'early-careers',
                reportsTo: 'vp_talent',
                responsibilities: [
                    'Oversees all programmes for entry-level talent',
                    'Develops strategy for attracting and developing new talent'
                ]
            },
            {
                id: 'mgr_university',
                title: 'Manager, University Relations & Recruitment',
                category: 'early-careers',
                reportsTo: 'dir_early_careers',
                responsibilities: [
                    'Builds relationships with educational institutions',
                    'Oversees campus recruiting efforts',
                    'Manages internship programme design'
                ]
            },
            {
                id: 'mgr_graduate',
                title: 'Manager, Graduate Development Programmes',
                category: 'early-careers',
                reportsTo: 'dir_early_careers',
                responsibilities: [
                    'Designs and implements rotational programmes',
                    'Oversees new graduate onboarding curriculum',
                    'Coordinates mentorship programmes for recent graduates'
                ]
            },
            {
                id: 'mgr_early_assessment',
                title: 'Manager, Early Career Assessment & Advancement',
                category: 'early-careers',
                reportsTo: 'dir_early_careers',
                responsibilities: [
                    'Designs assessment frameworks for early career employees',
                    'Tracks progression of associates through development pathways',
                    'Identifies high-potential early career talent'
                ]
            },
            {
                id: 'specialist_university',
                title: 'University Partnership Specialists',
                category: 'early-careers',
                reportsTo: 'mgr_university',
                responsibilities: [
                    'Maintains specific university relationships',
                    'Coordinates campus events and recruitment activities'
                ]
            },
            {
                id: 'coord_graduate',
                title: 'Graduate Programme Coordinators',
                category: 'early-careers',
                reportsTo: 'mgr_graduate',
                responsibilities: [
                    'Administers day-to-day operation of rotational programmes',
                    'Supports onboarding logistics and content delivery'
                ]
            },
            {
                id: 'coord_internship',
                title: 'Internship Coordinators',
                category: 'early-careers',
                reportsTo: 'mgr_university',
                responsibilities: [
                    'Manages internship application and placement process',
                    'Supports intern experience and evaluation'
                ]
            },
            {
                id: 'coach_early',
                title: 'Early Career Coaches',
                category: 'early-careers',
                reportsTo: 'mgr_early_assessment',
                responsibilities: [
                    'Provides one-on-one coaching for new graduates',
                    'Facilitates peer learning groups'
                ]
            },
            
            // Upskilling Division
            {
                id: 'dir_upskilling',
                title: 'Director of Professional Development & Upskilling',
                category: 'upskilling',
                reportsTo: 'vp_talent',
                responsibilities: [
                    'Oversees all programmes for current employees\' skill enhancement',
                    'Develops strategy for continuous improvement of workforce capabilities'
                ]
            },
            {
                id: 'mgr_technical',
                title: 'Manager, Technical Skills Development',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Designs programmes for technical competency advancement',
                    'Coordinates with department heads on technical needs',
                    'Manages technical training curriculum'
                ]
            },
            {
                id: 'mgr_leadership',
                title: 'Manager, Leadership Development',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Oversees leadership training programmes',
                    'Designs advancement pathways for emerging leaders',
                    'Coordinates high-potential employee programmes'
                ]
            },
            {
                id: 'mgr_business_skills',
                title: 'Manager, Business & Soft Skills',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Designs curriculum for cross-functional business skills',
                    'Oversees communication, collaboration, and other soft skills programmes',
                    'Manages change management training'
                ]
            },
            {
                id: 'mgr_learning_tech',
                title: 'Manager, Learning Technology & Innovation',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Oversees learning management system and digital learning tools',
                    'Develops innovative learning approaches (VR, gamification, etc.)',
                    'Manages learning analytics and reporting'
                ]
            },
            {
                id: 'mgr_sustainability',
                title: 'Manager, Sustainability & ESG Skills',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Works closely with the CSO\'s office',
                    'Develops sustainability training curriculum',
                    'Integrates ESG principles into existing training programmes'
                ]
            },
            {
                id: 'mgr_diversity',
                title: 'Manager, Diversity & Inclusion Learning',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Partners with the CDO\'s office',
                    'Develops inclusive leadership capabilities',
                    'Creates and delivers DEI-focused learning content'
                ]
            },
            {
                id: 'mgr_experience',
                title: 'Manager, Experience Design Learning',
                category: 'upskilling',
                reportsTo: 'dir_upskilling',
                responsibilities: [
                    'Works closely with the CXO\'s office',
                    'Develops customer experience and employee experience training',
                    'Creates learning programmes on journey mapping and experience design',
                    'Integrates service design principles into relevant training'
                ]
            },
            {
                id: 'specialists_technical',
                title: 'Technical Training Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_technical',
                responsibilities: [
                    'Develops and delivers technical training content',
                    'Stays current on industry technical trends',
                    'Assesses technical competency development'
                ]
            },
            {
                id: 'specialists_leadership',
                title: 'Leadership Development Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_leadership',
                responsibilities: [
                    'Delivers leadership training programmes',
                    'Coaches emerging leaders',
                    'Facilitates leadership assessment centres'
                ]
            },
            {
                id: 'trainers_business',
                title: 'Business Skills Trainers',
                category: 'upskilling',
                reportsTo: 'mgr_business_skills',
                responsibilities: [
                    'Develops content for cross-functional business skills',
                    'Delivers soft skills training',
                    'Assesses soft skill development'
                ]
            },
            {
                id: 'designers_learning',
                title: 'Learning Experience Designers',
                category: 'upskilling',
                reportsTo: 'mgr_learning_tech',
                responsibilities: [
                    'Creates engaging digital learning content',
                    'Designs blended learning experiences',
                    'Develops microlearning modules'
                ]
            },
            {
                id: 'specialists_analytics',
                title: 'Learning Analytics Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_learning_tech',
                responsibilities: [
                    'Analyses learning data',
                    'Produces dashboard reports',
                    'Identifies trends and improvement opportunities'
                ]
            },
            {
                id: 'specialists_sustainability',
                title: 'Sustainability Learning Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_sustainability',
                responsibilities: [
                    'Develops training on carbon footprint reduction, circular economy, etc.',
                    'Creates sustainability case studies and learning activities',
                    'Stays current on sustainability trends and regulations'
                ]
            },
            {
                id: 'specialists_dei',
                title: 'DEI Learning Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_diversity',
                responsibilities: [
                    'Develops inclusive leadership training content',
                    'Creates bias awareness and cultural competency programmes',
                    'Facilitates diversity dialogue sessions'
                ]
            },
            {
                id: 'facilitators_innovation',
                title: 'Innovation & Design Thinking Facilitators',
                category: 'upskilling',
                reportsTo: 'mgr_learning_tech',
                responsibilities: [
                    'Delivers workshops on innovation methodologies',
                    'Designs experiential innovation learning',
                    'Facilitates design thinking sprints as learning experiences'
                ]
            },
            {
                id: 'specialists_experience',
                title: 'Experience Design Specialists',
                category: 'upskilling',
                reportsTo: 'mgr_experience',
                responsibilities: [
                    'Develops training on customer and employee experience principles',
                    'Creates journey mapping and service blueprint workshops',
                    'Builds empathy and human-centred design capabilities',
                    'Trains teams on experience measurement and improvement'
                ]
            },
            
            // Reskilling Division
            {
                id: 'dir_reskilling',
                title: 'Director of Workforce Transformation & Reskilling',
                category: 'reskilling',
                reportsTo: 'vp_talent',
                responsibilities: [
                    'Oversees all programmes for transformative skill changes',
                    'Develops strategy for adapting workforce to major business shifts'
                ]
            },
            {
                id: 'mgr_future_skills',
                title: 'Manager, Future Skills Assessment',
                category: 'reskilling',
                reportsTo: 'dir_reskilling',
                responsibilities: [
                    'Identifies future skill needs based on business strategy',
                    'Assesses current workforce capabilities against future needs',
                    'Develops skill gap analysis reports'
                ]
            },
            {
                id: 'mgr_career_transition',
                title: 'Manager, Career Transition Programmes',
                category: 'reskilling',
                reportsTo: 'dir_reskilling',
                responsibilities: [
                    'Designs comprehensive reskilling pathways',
                    'Oversees major career transition programmes',
                    'Coordinates with business units on placement of reskilled employees'
                ]
            },
            {
                id: 'mgr_digital_transformation',
                title: 'Manager, Digital Transformation Learning',
                category: 'reskilling',
                reportsTo: 'dir_reskilling',
                responsibilities: [
                    'Focuses specifically on digital and technological reskilling',
                    'Coordinates with IT on digital skill requirements',
                    'Oversees digital literacy baseline programmes'
                ]
            },
            {
                id: 'analysts_workforce',
                title: 'Workforce Skills Analysts',
                category: 'reskilling',
                reportsTo: 'mgr_future_skills',
                responsibilities: [
                    'Conducts skills assessments',
                    'Maps current to future skill requirements',
                    'Identifies candidates for reskilling initiatives'
                ]
            },
            {
                id: 'specialists_career',
                title: 'Career Transition Specialists',
                category: 'reskilling',
                reportsTo: 'mgr_career_transition',
                responsibilities: [
                    'Provides guidance to employees undergoing reskilling',
                    'Facilitates career change conversations',
                    'Supports job placement for reskilled employees'
                ]
            },
            {
                id: 'coord_reskilling',
                title: 'Reskilling Programme Coordinators',
                category: 'reskilling',
                reportsTo: 'mgr_career_transition',
                responsibilities: [
                    'Administers reskilling curriculum',
                    'Tracks participant progress',
                    'Coordinates with external training providers'
                ]
            },
            {
                id: 'trainers_digital',
                title: 'Digital Skills Trainers',
                category: 'reskilling',
                reportsTo: 'mgr_digital_transformation',
                responsibilities: [
                    'Delivers specialised digital upskilling content',
                    'Facilitates technology adoption programmes',
                    'Assesses digital competency development'
                ]
            },
            
            // Support Functions
            {
                id: 'dir_learning_ops',
                title: 'Director of Learning Operations',
                category: 'support',
                reportsTo: 'clo',
                responsibilities: [
                    'Ensures efficient execution of all L&D programmes',
                    'Manages operational aspects of learning delivery'
                ]
            },
            {
                id: 'mgr_learning_ops',
                title: 'Learning Operations Managers',
                category: 'support',
                reportsTo: 'dir_learning_ops',
                responsibilities: [
                    'Oversees scheduling, logistics, and resource allocation',
                    'Manages vendor relationships and contracts',
                    'Coordinates facilities and training equipment'
                ]
            },
            {
                id: 'coord_program',
                title: 'Programme Coordinators',
                category: 'support',
                reportsTo: 'mgr_learning_ops',
                responsibilities: [
                    'Handles day-to-day logistics of learning programmes',
                    'Manages participant communications',
                    'Coordinates materials and resources'
                ]
            },
            {
                id: 'dir_content',
                title: 'Director of Learning Content & Curriculum',
                category: 'support',
                reportsTo: 'clo',
                responsibilities: [
                    'Oversees all learning content development',
                    'Ensures content quality and consistency across programmes'
                ]
            },
            {
                id: 'mgr_instructional',
                title: 'Instructional Design Managers',
                category: 'support',
                reportsTo: 'dir_content',
                responsibilities: [
                    'Leads team of instructional designers',
                    'Ensures pedagogical quality of learning programmes',
                    'Implements learning design standards'
                ]
            },
            {
                id: 'instructional_designers',
                title: 'Instructional Designers',
                category: 'support',
                reportsTo: 'mgr_instructional',
                responsibilities: [
                    'Creates learning objectives and assessments',
                    'Designs learning activities and materials',
                    'Develops course structures and sequences'
                ]
            },
            {
                id: 'content_developers',
                title: 'Content Developers',
                category: 'support',
                reportsTo: 'mgr_instructional',
                responsibilities: [
                    'Produces learning materials (videos, workbooks, etc.)',
                    'Manages content management system',
                    'Updates and refreshes existing content'
                ]
            },
            {
                id: 'dir_learning_tech',
                title: 'Director of Learning Technology',
                category: 'support',
                reportsTo: 'clo',
                responsibilities: [
                    'Oversees all learning technology platforms',
                    'Drives technology-enabled learning strategy'
                ]
            },
            {
                id: 'admin_lms',
                title: 'Learning Management System (LMS) Administrators',
                category: 'support',
                reportsTo: 'dir_learning_tech',
                responsibilities: [
                    'Manages the LMS platform',
                    'Sets up and maintains courses and user accounts',
                    'Generates system reports'
                ]
            },
            {
                id: 'specialists_edtech',
                title: 'Educational Technology Specialists',
                category: 'support',
                reportsTo: 'dir_learning_tech',
                responsibilities: [
                    'Evaluates and implements new learning technologies',
                    'Supports virtual learning environments',
                    'Troubleshoots technical issues'
                ]
            },
            {
                id: 'dir_analytics',
                title: 'Director of Learning Analytics & Effectiveness',
                category: 'support',
                reportsTo: 'clo',
                responsibilities: [
                    'Oversees measurement of learning impact',
                    'Drives continuous improvement based on analytics'
                ]
            },
            {
                id: 'mgr_evaluation',
                title: 'Learning Evaluation Managers',
                category: 'support',
                reportsTo: 'dir_analytics',
                responsibilities: [
                    'Designs evaluation frameworks',
                    'Implements learning measurement systems',
                    'Reports on programme effectiveness'
                ]
            },
            {
                id: 'analysts_data',
                title: 'Data Analysts',
                category: 'support',
                reportsTo: 'mgr_evaluation',
                responsibilities: [
                    'Collects and analyses learning data',
                    'Produces dashboards and reports',
                    'Identifies patterns and insights from learning metrics'
                ]
            },
            
            // Governance Bodies
            {
                id: 'council_ld',
                title: 'L&D Council',
                category: 'governance',
                reportsTo: null,
                chair: 'clo',
                members: 'Representatives from all major business units',
                responsibilities: [
                    'Meets quarterly to review L&D strategy and priorities',
                    'Approves major new initiatives'
                ]
            },
            {
                id: 'boards_skills',
                title: 'Skills Advisory Boards',
                category: 'governance',
                reportsTo: null,
                chair: 'Respective functional leaders',
                members: 'Subject matter experts from the business',
                responsibilities: [
                    'Provides input on specific skill needs and priorities',
                    'Reviews curriculum for technical accuracy'
                ]
            },
            {
                id: 'council_sustainability',
                title: 'Sustainability Skills Council',
                category: 'governance',
                reportsTo: null,
                chair: 'CSO and senior L&D leader',
                members: 'Sustainability experts and business unit representatives',
                responsibilities: [
                    'Identifies sustainability competencies needed across roles',
                    'Reviews sustainability content in learning programmes'
                ]
            },
            {
                id: 'council_diversity',
                title: 'Diversity & Inclusion Learning Council',
                category: 'governance',
                reportsTo: null,
                chair: 'CDO and senior L&D leader',
                members: 'Diverse representatives from across the organisation',
                responsibilities: [
                    'Reviews learning content for inclusivity and representation',
                    'Advises on DEI learning objectives and approaches'
                ]
            },
            {
                id: 'council_experience',
                title: 'Experience Design Learning Council',
                category: 'governance',
                reportsTo: null,
                chair: 'CXO and senior L&D leader',
                members: 'Customer experience, employee experience, and service design experts',
                responsibilities: [
                    'Reviews experience design learning content and approaches',
                    'Identifies experience capability needs across the organisation'
                ]
            },
            {
                id: 'committee_learning',
                title: 'Learning Experience Committee',
                category: 'governance',
                reportsTo: null,
                chair: 'Senior L&D representative',
                members: 'Employees from various levels and departments',
                responsibilities: [
                    'Provides feedback on learner experience',
                    'Tests new learning approaches',
                    'Acts as learning champions across the organisation'
                ]
            }
        ];

        // Get references to DOM elements
        const visualization = document.getElementById('visualization');
        const searchBox = document.querySelector('.search-box');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const gridBtn = document.querySelector('.grid-btn');
        const listBtn = document.querySelector('.list-btn');

        // Create a mapping from role IDs to their indices in the array
        const roleIdMap = {};
        organisationData.forEach((role, index) => {
            roleIdMap[role.id] = index;
        });

        // Function to get a role's data by ID
        function getRoleById(id) {
            return organisationData[roleIdMap[id]];
        }

        // Function to get a role's title by ID
        function getRoleTitleById(id) {
            if (!id) return 'None';
            return organisationData[roleIdMap[id]]?.title || 'Unknown';
        }

        // Function to render the visualisation
        function renderVisualization(filteredData = organisationData) {
            visualization.innerHTML = '';
            
            filteredData.forEach(role => {
                const roleCard = document.createElement('div');
                roleCard.classList.add('role-card', role.category);
                roleCard.dataset.id = role.id;
                roleCard.dataset.category = role.category;
                roleCard.dataset.reportsTo = role.reportsTo || '';
                
                const headerDiv = document.createElement('div');
                headerDiv.classList.add('role-header');
                
                const titleElement = document.createElement('h3');
                titleElement.textContent = role.title;
                
                const categoryTag = document.createElement('span');
                categoryTag.classList.add('category-tag', `tag-${role.category}`);
                categoryTag.textContent = role.category.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                headerDiv.appendChild(titleElement);
                headerDiv.appendChild(categoryTag);
                roleCard.appendChild(headerDiv);
                
                if (role.reportsTo) {
                    const reportingLine = document.createElement('div');
                    reportingLine.classList.add('reporting-line');
                    reportingLine.innerHTML = `Reports to: <span class="reports-to" data-reports-to="${role.reportsTo}">${getRoleTitleById(role.reportsTo)}</span>`;
                    roleCard.appendChild(reportingLine);
                } else if (role.chair) {
                    // For governance bodies that have chairs instead of reporting lines
                    const chairInfo = document.createElement('div');
                    chairInfo.classList.add('reporting-line');
                    chairInfo.innerHTML = `Chaired by: <span>${role.chair}</span>`;
                    roleCard.appendChild(chairInfo);
                    
                    const membersInfo = document.createElement('div');
                    membersInfo.classList.add('reporting-line');
                    membersInfo.innerHTML = `Members: ${role.members}`;
                    roleCard.appendChild(membersInfo);
                }
                
                const responsibilitiesDiv = document.createElement('div');
                responsibilitiesDiv.classList.add('responsibilities');
                
                const responsibilitiesList = document.createElement('ul');
                role.responsibilities.forEach(responsibility => {
                    const listItem = document.createElement('li');
                    listItem.textContent = responsibility;
                    responsibilitiesList.appendChild(listItem);
                });
                
                responsibilitiesDiv.appendChild(responsibilitiesList);
                roleCard.appendChild(responsibilitiesDiv);
                
                visualization.appendChild(roleCard);
            });
            
            // Add event listeners to reporting lines
            document.querySelectorAll('.reports-to').forEach(element => {
                element.addEventListener('click', (e) => {
                    const reportsToId = e.target.dataset.reportsTo;
                    highlightReportingChain(reportsToId);
                });
            });
        }

        // Function to filter roles by category
        function filterByCategory(category) {
            let filteredData;
            
            if (category === 'all') {
                filteredData = organisationData;
            } else {
                filteredData = organisationData.filter(role => role.category === category);
            }
            
            renderVisualization(filteredData);
        }

        // Function to search roles
        function searchRoles(query) {
            if (!query.trim()) {
                renderVisualization();
                return;
            }
            
            query = query.toLowerCase();
            
            const filteredData = organisationData.filter(role => {
                // Search in title
                if (role.title.toLowerCase().includes(query)) {
                    return true;
                }
                
                // Search in responsibilities
                for (const responsibility of role.responsibilities) {
                    if (responsibility.toLowerCase().includes(query)) {
                        return true;
                    }
                }
                
                return false;
            });
            
            renderVisualization(filteredData);
        }

        // Function to highlight reporting chains
        function highlightReportingChain(roleId) {
            // Remove any existing highlights
            document.querySelectorAll('.role-card').forEach(card => {
                card.classList.remove('highlight');
                card.classList.remove('faded');
            });
            
            // Find all related roles (bosses and direct reports)
            const highlightIds = new Set();
            let currentRoleId = roleId;
            
            // Add all bosses up the chain
            while (currentRoleId) {
                highlightIds.add(currentRoleId);
                const role = getRoleById(currentRoleId);
                currentRoleId = role.reportsTo;
            }
            
            // Add all direct reports
            organisationData.forEach(role => {
                if (role.reportsTo === roleId) {
                    highlightIds.add(role.id);
                }
            });
            
            // Highlight the chain and fade the rest
            document.querySelectorAll('.role-card').forEach(card => {
                if (highlightIds.has(card.dataset.id)) {
                    card.classList.add('highlight');
                } else {
                    card.classList.add('faded');
                }
            });
            
            // Add a clear button
            const clearButton = document.createElement('button');
            clearButton.classList.add('btn', 'btn-reset', 'clear-highlight');
            clearButton.textContent = 'Clear Highlight';
            clearButton.style.position = 'fixed';
            clearButton.style.bottom = '20px';
            clearButton.style.right = '20px';
            clearButton.style.zIndex = '100';
            
            if (!document.querySelector('.clear-highlight')) {
                document.body.appendChild(clearButton);
            }
            
            clearButton.addEventListener('click', () => {
                document.querySelectorAll('.role-card').forEach(card => {
                    card.classList.remove('highlight');
                    card.classList.remove('faded');
                });
                clearButton.remove();
            });
        }

        // Event listeners
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update active class
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Filter the visualization
                filterByCategory(button.dataset.filter);
            });
        });

        searchBox.addEventListener('input', (e) => {
            searchRoles(e.target.value);
        });

        gridBtn.addEventListener('click', () => {
            listBtn.classList.remove('active');
            gridBtn.classList.add('active');
            visualization.classList.remove('list-view');
            visualization.classList.add('grid-view');
        });

        listBtn.addEventListener('click', () => {
            gridBtn.classList.remove('active');
            listBtn.classList.add('active');
            visualization.classList.remove('grid-view');
            visualization.classList.add('list-view');
        });

        // Initialize the visualization
        renderVisualization();
    </script>
</body>
</html>
